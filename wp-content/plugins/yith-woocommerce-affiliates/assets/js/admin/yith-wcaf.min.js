jQuery(document).ready(function(a){var Q=a(document.body),R=a("#yith_wcaf_general_referral_cod"),B=a("#yith_wcaf_referral_var_name"),S=a("#yith_wcaf_history_cookie_enable"),C=a("#yith_wcaf_history_cookie_name"),p=a("#yith_wcaf_history_make_cookie_expire"),q=a("#yith_wcaf_history_cookie_expire"),T=a("#yith_wcaf_commission_persistent_calculation"),D=a("#yith_wcaf_persistent_rate"),E=a("#yith_wcaf_avoid_referral_change"),U=a("#yith_wcaf_referral_make_cookie_expire"),F=a("#yith_wcaf_referral_cookie_expire"),
  V=a("#yith_wcaf_referral_registration_show_terms_field"),G=a("#yith_wcaf_referral_registration_terms_label"),H=a("#yith_wcaf_referral_registration_terms_anchor_url"),I=a("#yith_wcaf_referral_registration_terms_anchor_text"),W=a("#yith_wcaf_coupon_enable"),w=a("#yith_wcaf_coupon_show_section"),J=a("#yith_wcaf_coupon_limit_section"),K=a("#yith_wcaf_payment_pending_notify_admin"),X=a("#yith_wcaf_payment_type"),k=a("#yith_wcaf_payment_date"),f=a("#yith_wcaf_payment_pay_only_old_commissions"),x=a("#yith_wcaf_payment_commission_age"),
  l=a("#yith_wcaf_payment_default_gateway"),m=a("#yith_wcaf_payment_threshold"),h=a("#yith_wcaf_payment_require_invoice"),y=a("#yith_wcaf_payment_invoice_mode"),r=a("#yith_wcaf_payment_invoice_example"),t=a("#yith_wcaf_payment_invoice_company_section"),u=a("#yith_wcaf_payment_invoice_fields"),v=a("#yith_wcaf_payment_invoice_template"),n=a("#yith_wcaf_payment_invoice_show_terms_field"),L=a("#yith_wcaf_payment_invoice_terms_label"),M=a("#yith_wcaf_payment_invoice_terms_anchor_url"),N=a("#yith_wcaf_payment_invoice_terms_anchor_text"),
  Y=a("#yith_wcaf_click_enabled"),O=a("#yith_wcaf_click_resolution"),z=a("#yith_wcaf_click_auto_delete"),A=a("#yith_wcaf_click_auto_delete_expiration");R.on("change",function(){"query_string"==a(this).val()?B.parents("tr").show():B.parents("tr").hide()}).change();S.on("change",function(){a(this).is(":checked")?(C.parents("tr").show(),p.parents("tr").show(),p.is(":checked")&&q.parents("tr").show()):(C.parents("tr").hide(),q.parents("tr").hide(),p.parents("tr").hide())}).change();p.on("change",function(){a(this).is(":checked")?
  q.parents("tr").show():q.parents("tr").hide()}).change();T.on("change",function(){a(this).is(":checked")?(D.parents("tr").show(),E.parents("tr").show()):(D.parents("tr").hide(),E.parents("tr").hide())}).change();U.on("change",function(){a(this).is(":checked")?F.parents("tr").show():F.parents("tr").hide()}).change();V.on("change",function(){a(this).is(":checked")?(G.parents("tr").show(),H.parents("tr").show(),I.parents("tr").show()):(G.parents("tr").hide(),H.parents("tr").hide(),I.parents("tr").hide())}).change();
  W.on("change",function(){a(this).is(":checked")?(w.closest("tr").show().end().change(),K.closest("tr").show()):(w.closest("tr").hide().end().change(),K.closest("tr").hide())}).change();w.on("change",function(){var b=a(this);b.is(":checked")&&b.is(":visible")?J.closest("tr").show():J.closest("tr").hide()}).change();X.on("change",function(){var b=a(this).val();"manually"==b?(l.parents("tr").hide(),k.parents("tr").hide(),f.parents("tr").hide().end().change(),x.parents("tr").hide(),m.parents("tr").hide(),
    h.parents("tr").hide().end().change()):"automatically_on_threshold"==b?(l.parents("tr").show(),k.parents("tr").hide(),f.parents("tr").show().end().change(),m.parents("tr").show(),h.parents("tr").hide().end().change()):"automatically_on_date"==b?(l.parents("tr").show(),k.parents("tr").show(),f.parents("tr").show().end().change(),m.parents("tr").hide(),h.parents("tr").hide().end().change()):"automatically_on_both"==b?(l.parents("tr").show(),k.parents("tr").show(),f.parents("tr").show().end().change(),
    m.parents("tr").show(),h.parents("tr").hide().end().change()):"automatically_every_day"==b?(l.parents("tr").show(),k.parents("tr").hide(),f.parents("tr").show().end().change(),m.parents("tr").hide(),h.parents("tr").hide().end().change()):"let_user_request"==b&&(l.parents("tr").hide(),k.parents("tr").hide(),f.parents("tr").hide(),m.parents("tr").show(),h.parents("tr").show().end().change())}).change();h.on("change",function(){var b=a(this),c=b.is(":checked");b=b.is(":visible");c&&b?y.parents("tr").show().end().change():
    y.parents("tr").hide().end().change()}).change();y.on("change",function(){var b=a(this),c=b.val();b.is(":visible")?"upload"==c?(r.parents("tr").show(),t.parents("tr").hide(),u.parents("tr").hide(),v.parents("tr").hide(),n.parents("tr").hide().end().change()):"generate"==c?(r.parents("tr").hide(),t.parents("tr").show(),u.parents("tr").show(),v.parents("tr").show(),n.parents("tr").show().end().change()):"both"==c&&(r.parents("tr").show(),t.parents("tr").show(),u.parents("tr").show(),v.parents("tr").show(),
    n.parents("tr").show().end().change()):(r.parents("tr").hide(),t.parents("tr").hide(),u.parents("tr").hide(),v.parents("tr").hide(),n.parents("tr").hide().end().change())}).change();n.on("change",function(){var b=a(this),c=b.is(":visible");b.is(":checked")&&c?(L.parents("tr").show(),M.parents("tr").show(),N.parents("tr").show()):(L.parents("tr").hide(),M.parents("tr").hide(),N.parents("tr").hide())}).change();f.on("change",function(){var b=a(this);b.is(":checked")&&b.is(":visible")?x.parents("tr").show():
    x.parents("tr").hide()}).change();Y.on("change",function(){a(this).is(":checked")?(O.parents("tr").show(),z.change().parents("tr").show()):(O.parents("tr").hide(),z.parents("tr").hide(),A.parents("tr").hide())}).change();z.on("change",function(){a(this).is(":checked")?A.parents("tr").show():A.parents("tr").hide()}).change();Q.on("wc_backbone_modal_response",function(b,c,d){"yith-wcaf-message"===c&&"undefined"!==typeof d.url&&(b=d.url,b.length?("undefined"!==typeof d.message&&d.message&&(b=b+"&message="+
    encodeURI(d.message)),window.location=b):(b=a("#yith_wcaf_panel_affiliate").children("form"),b.length&&(b.append(a("<input/>",{type:"hidden",name:"message",value:d.message})),b.submit())))});a(".variable-description").on("change",function(){var b=a(this),c=b.next(".description").find("[data-value]");b=c.filter('[data-value="'+b.val()+'"]');c.hide();b.length?b.show():c.first().show()}).change();var P=yith_wcaf.labels.view_template,Z=yith_wcaf.labels.hide_template;a("a.toggle_editor").text(P).toggle(function(){a(this).text(Z).closest(" .template").find(".editor").slideToggle();
    return!1},function(){a(this).text(P).closest(".template").find(".editor").slideToggle();return!1});a("a.delete_template").click(function(){return window.confirm(yith_wcaf.labels.confirm_template_delete)?!0:!1});a(".editor textarea").change(function(){var b=a(this).attr("data-name");b&&a(this).attr("name",b)});a(".yith-affiliates-update-commission").on("click",function(b){var c=a(this),d=c.parents("tr"),e=c.data("affiliate_id");d=d.find(".column-rate input").val();b.preventDefault();a.ajax({beforeSend:function(){c.block({message:null,
      overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_update_affiliate_commission",affiliate_id:e,rate:d},dataType:"json",method:"POST",complete:function(){c.unblock()},success:function(a){},url:ajaxurl})});a(".yith-affiliates-delete-commission").on("click",function(b){var c=a(this),d=c.parents("tr"),e=d.parents("tbody"),g=c.data("affiliate_id");b.preventDefault();a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_delete_affiliate_commission",
      affiliate_id:g},dataType:"json",method:"POST",complete:function(){c.unblock()},success:function(a){d.remove();0==e.find("tr").length&&e.html(yith_wcaf.empty_row)},url:ajaxurl})});a(".yith-products-update-commission").on("click",function(b){var c=a(this),d=c.parents("tr"),e=c.data("product_id");d=d.find(".column-rate input").val();b.preventDefault();a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_update_product_commission",product_id:e,
      rate:d},dataType:"json",method:"POST",complete:function(){c.unblock()},success:function(a){},url:ajaxurl})});a(".yith-products-delete-commission").on("click",function(b){var c=a(this),d=c.parents("tr"),e=d.parents("tbody"),g=c.data("product_id");b.preventDefault();a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_delete_product_commission",product_id:g},dataType:"json",method:"POST",complete:function(){c.unblock()},success:function(a){d.remove();
      0==e.find("tr").length&&e.html(yith_wcaf.empty_row)},url:ajaxurl})});a("#yith_wcaf_commission_notes").on("click","a.add_note",function(b){var c=a(this),d=c.parents("#yith_wcaf_commission_notes"),e=d.find("ul"),g=d.find("textarea");d=g.val();var f=a("#commission_id").val();b.preventDefault();d&&a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){c.unblock()},data:{commission_id:f,note_content:d,action:"yith_wcaf_add_commission_note"},
    method:"POST",success:function(a){a.template&&e.prepend(a.template);0<e.find("li").length&&e.find("li.no_notes").hide();g.val("")},url:ajaxurl})}).on("click","a.delete_note",function(b){var c=a(this),d=c.parents("#yith_wcaf_commission_notes").find("ul"),e=c.parents("li");c=e.attr("rel");b.preventDefault();c&&a.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){e.unblock()},data:{note_id:c,action:"yith_wcaf_delete_commission_note"},method:"POST",
    success:function(a){e.remove();0==d.find("li").not(".no_notes").length&&d.find("li.no_notes").show()},url:ajaxurl})});a("#yith_wcaf_payment_notes").on("click","a.add_note",function(b){var c=a(this),d=c.parents("#yith_wcaf_payment_notes"),e=d.find("ul"),g=d.find("textarea");d=g.val();var f=a("#payment_id").val();b.preventDefault();d&&a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){c.unblock()},data:{payment_id:f,note_content:d,action:"yith_wcaf_add_payment_note"},
    method:"POST",success:function(a){a.template&&e.prepend(a.template);0<e.find("li").length&&e.find("li.no_notes").hide();g.val("")},url:ajaxurl})}).on("click","a.delete_note",function(b){var c=a(this),d=c.parents("#yith_wcaf_payment_notes").find("ul"),e=c.parents("li");c=e.attr("rel");b.preventDefault();c&&a.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){e.unblock()},data:{note_id:c,action:"yith_wcaf_delete_payment_note"},method:"POST",
    success:function(a){e.remove();0==d.find("li").not(".no_notes").length&&d.find("li.no_notes").show()},url:ajaxurl})});a("#yith_wcaf_panel_affiliate").on("click","a.button.ban, a.button.disable",function(b){var c=a(this);b.preventDefault();if(c.hasClass("ban"))var d=yith_wcaf.labels.ban_message;else c.hasClass("disable")&&(d=yith_wcaf.labels.rejected_message);c.WCBackboneModal({template:"yith-wcaf-message",variable:{title:d,url:c.attr("href")}});return!1}).on("click","#doaction, #doaction2",function(b){var c=
    a(this),d=c.prev(),e=!1;if("ban"===d.val()){e=!0;var g=yith_wcaf.labels.ban_message;var f="ban_message"}"disable"===d.val()&&(e=!0,g=yith_wcaf.labels.rejected_message,f="reject_message");e&&(b.preventDefault(),c.WCBackboneModal({template:"yith-wcaf-message",variable:{title:g,name:f,url:""}}))});a(".edit_address_button").on("click",function(b){var c=a(this);b.preventDefault();c.parent().nextAll(".address").toggle();c.parent().nextAll(".edit_address").toggle()});a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",
    numberOfMonths:1,showButtonPanel:!0});a(".user-edit-php").find("#enabled").on("change",function(){var b=a(this);"-1"===b.val()?b.closest("table").find("#reject_message").closest("tr").show():b.closest("table").find("#reject_message").closest("tr").hide()}).change().end().find("#banned").on("change",function(){var b=a(this);b.is(":checked")?b.closest("table").find("#ban_message").closest("tr").show():b.closest("table").find("#ban_message").closest("tr").hide()}).change();0!=yith_wcaf.tabs_badges.commissions&&
  a(".nav-tab-wrapper").find('[href*="tab=commissions"]').append(' <span class="pending-count">'+yith_wcaf.tabs_badges.commissions+"</span>");0!=yith_wcaf.tabs_badges.affiliates&&a(".nav-tab-wrapper").find('[href*="tab=affiliates"]').append(' <span class="pending-count">'+yith_wcaf.tabs_badges.affiliates+"</span>");0!=yith_wcaf.tabs_badges.payments&&a(".nav-tab-wrapper").find('[href*="tab=payments"]').append(' <span class="pending-count">'+yith_wcaf.tabs_badges.payments+"</span>")});
